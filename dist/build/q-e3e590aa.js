import{B as R}from"./q-4631a7c6.js";import{C as w}from"./q-902f06fd.js";import{d as C,a as l,m as F,p as y}from"./q-0a61ba82.js";import{n as S,g as j}from"./q-bcdcdea2.js";import"./q-1d659ccd.js";const P=u=>{let a=0,M="",n=0;const _=u.spell.accent!=null?u.spell.runes[u.spell.accent].split(" ")[0]:void 0,m=[];let x=!1,p=0;for(const t of u.spell.runes){const s=t.split(" ")[0],i=t.split(" ")[1],v=M===s,g=_===s;i==="И"&&(n+=2),i==="Р"&&(n+=1);let e=0;p==0?(M=s,i==="И"&&(e+=g?40:20),i==="Р"&&(e+=10,x=!0)):(i==="И"&&(v?e+=g?40:20:e-=20),i==="Р"&&p!=u.spell.accent&&(x&&u.spell.runes.length<3?e-=0:e-=g?5:10)),m.push(e),a+=e,p++}const B=5;let h=!1,f=1;n>B&&(h=!0,f=parseFloat((B/n).toFixed(2)),m.push(f)),a=a*f;let r="Не определен";n==1&&(r="Одиночная руна"),n>1&&(r="Сложное заклинание"),n>5&&(r="Расширенное заклятие");let c="Не определена";n==1&&(c="Условные 20%"),n>1&&(c="Условные 30-50%"),n>3&&(c="Условные 50-80%"),n>5&&(c="Условные 100% и больше");let o="Не определена";n==1&&(o="3-10 метров"),n>1&&(o="до 50 метров"),n>3&&(o="до 100 метров"),n>5&&(o="до 500 метров");let b="Не определена";n==1&&(b="Новичок"),n>1&&(b="Ученик"),n>3&&(b="Умелец"),n>5&&(b="Мастер");let d="Не определен";return n==1&&(d="Быстрый"),n>1&&(d="Недолгий"),n>3&&(d="Долгий"),n>5&&(d="Очень долгий"),C(R,{children:[l("div",null,{class:"spell-duration"},[l("span",null,{center:!0,class:"accent-warning"},u.spell.accent==null&&u.spell.runes.length>1&&!S(u.spell)&&l("span",null,null,["Добавьте акценты!",l("br",null,null,null,3,null)],3,"M9_0"),1,null),h&&l("span",null,null,[l("b",null,null,"Коэффициент потерь:",3,null)," ",f,l("br",null,null,null,3,null)],1,"M9_1"),l("b",null,null,"Длительность:",3,null)," ",Math.floor(a)," секунд ",l("br",null,null,null,3,null),l("br",null,null,null,3,null),l("b",null,null,"Тип заклинания:",3,null)," ",r,l("br",null,null,null,3,null),l("b",null,null,"Сила:",3,null)," ",c,l("br",null,null,null,3,null),l("b",null,null,"Дальность:",3,null)," ",o,l("br",null,null,null,3,null),l("b",null,null,"Сложность:",3,null)," ",b,l("br",null,null,null,3,null),l("b",null,null,"Каст:",3,null)," ",d,l("br",null,null,null,3,null)],1,null),C(w,{children:[l("div",null,null,[r,l("br",null,null,null,3,null),l("b",null,null,["«",F(t=>t.spell.name,[u]),"»"],3,null)],1,null),u.spell.runes.map((t,s)=>l("div",null,null,["- ",j(t),s==u.spell.accent?" ✨":""," ("+m[s]+")"],1,Math.random())),h&&l("span",null,null,[l("b",null,null,"Коэффициент потерь:",3,null)," ",f,l("br",null,null,null,3,null)],1,"M9_2"),l("b",null,null,"Длительность:",3,null)," ",Math.floor(a)," секунд ",l("br",null,null,null,3,null)]},1,"M9_3")],columns:2,mobileColumns:1,[y]:{columns:y,mobileColumns:y}},1,"M9_4")};export{P as s_0COjZ8RkUss};
