import{B as C}from"./q-4631a7c6.js";import{C as k}from"./q-e3392e85.js";import{d as w,a as l,m as R,p as g}from"./q-0a61ba82.js";import{n as S,s as D,g as F}from"./q-d75e78b4.js";import"./q-a16cf504.js";const N=u=>{let a=0,M="",n=0;const B=u.spell.accent!=null?u.spell.runes[u.spell.accent].split(" ")[0]:void 0,p=[];let x=!1,m=0;for(const t of u.spell.runes){const s=t.split(" ")[0],i=t.split(" ")[1],_=M===s,y=B===s;i==="И"&&(n+=2),i==="Р"&&(n+=1);let e=0;m==0?(M=s,i==="И"&&(e+=y?40:20),i==="Р"&&(e+=10,x=!0)):(i==="И"&&(_?e+=y?40:20:e-=20),i==="Р"&&m!=u.spell.accent&&(x&&u.spell.runes.length<3?e-=0:e-=y?5:10)),p.push(e),a+=e,m++}const v=5;let h=!1,r=1;n>v&&(h=!0,r=parseFloat((v/n).toFixed(2)),p.push(r)),a=a*r;let f="Не определен";n==1&&(f="Одиночная руна"),n>1&&(f="Сложное заклинание"),n>5&&(f="Расширенное заклятие");let c="Не определена";n==1&&(c="Условные 20%"),n>1&&(c="Условные 30-50%"),n>3&&(c="Условные 50-80%"),n>5&&(c="Условные 100% и больше");let o="Не определена";n==1&&(o="3-10 метров"),n>1&&(o="до 50 метров"),n>3&&(o="до 100 метров"),n>5&&(o="до 500 метров");let d="Не определена";n==1&&(d="Новичок"),n>1&&(d="Ученик"),n>3&&(d="Умелец"),n>5&&(d="Мастер");let b="Не определен";return n==1&&(b="Быстрый"),n>1&&(b="Недолгий"),n>3&&(b="Долгий"),n>5&&(b="Очень долгий"),w(C,{children:[l("div",null,{class:"spell-duration"},[l("span",null,{center:!0,class:"accent-warning"},u.spell.accent==null&&u.spell.runes.length>1&&!S(u.spell)&&l("span",null,null,["Добавьте акценты!",l("br",null,null,null,3,null)],3,"M9_0"),1,null),h&&l("span",null,null,[l("b",null,null,"Коэффициент потерь:",3,null)," ",r,l("br",null,null,null,3,null)],1,"M9_1"),l("b",null,null,"Длительность:",3,null)," ",Math.floor(a)," секунд ",l("br",null,null,null,3,null),l("br",null,null,null,3,null),l("b",null,null,"Тип заклинания:",3,null)," ",f,l("br",null,null,null,3,null),l("b",null,null,"Сила:",3,null)," ",c,l("br",null,null,null,3,null),l("b",null,null,"Дальность:",3,null)," ",o,l("br",null,null,null,3,null),l("b",null,null,"Сложность:",3,null)," ",d,l("br",null,null,null,3,null),l("b",null,null,"Каст:",3,null)," ",b,l("br",null,null,null,3,null)],1,null),w(k,{children:[l("div",null,{style:"font-size: 12px;"},[l("i",null,null,D(u.spell),1,null),`
`],1,null),l("div",null,{style:"word-break: break-word"},["«",R(t=>t.name,[u]),"»"],3,null),l("div",null,{style:"word-break: break-word"},[u.spellDescription!=""?u.spellDescription:l("i",null,{style:"color: red;"},"Напишите описание!",3,"M9_2"),l("br",null,null,null,3,null)],1,null),l("span",null,null,"```",3,null),l("div",null,null,["Тип: ",f],1,null),u.spell.runes.map((t,s)=>l("div",null,null,["- ",F(t),s==u.spell.accent?" ✨":""," ("+p[s]+")"],1,Math.random())),h&&l("span",null,null,[l("b",null,null,"Коэффициент потерь:",3,null)," ",r,l("br",null,null,null,3,null)],1,"M9_3"),l("b",null,null,"Длительность:",3,null)," ",Math.floor(a)," секунд ",l("br",null,null,null,3,null),l("span",null,null,"```",3,null)]},1,"M9_4")],columns:2,mobileColumns:1,[g]:{columns:g,mobileColumns:g}},1,"M9_5")};export{N as s_0COjZ8RkUss};
