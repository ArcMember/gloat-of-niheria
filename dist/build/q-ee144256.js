import{R as g,d as _,g as d,a as l,i as v,M as p,_ as y,c as b}from"./q-0a61ba82.js";import{useGetHeroes as w}from"./q-520f8f1e.js";import"./q-5fd651d3.js";const E=t=>{var c,m;const o=w(),e=(c=o.value.find(n=>n.name===t.name))==null?void 0:c.inventory.split("||");let u;try{u=JSON.parse(((m=o.value.find(n=>n.name===t.name))==null?void 0:m.invLog)||"{}")}catch{u={}}const i=u.logs,a=g(!1),f=e==null?void 0:e.every(n=>n===""||n===" "||n===void 0),r=e==null?void 0:e.map(n=>{const s=n.split(": ");return[s[0],s[1]]});return _(d,{children:!f&&_(d,{children:[l("h2",null,null,"Инвентарь ",3,null),l("div",null,{class:["inventory"]},r==null?void 0:r.map(([n,s],h)=>l("div",{class:"inventory-row"+(s!=null?" item-long":" item-short")},{onClick$:v(()=>y(()=>import("./q-69bee21b.js"),[]),"s_VV1NiEo5yXk")},[s!=null&&l("div",null,null,[l("b",null,null,[n,":"],1,null),l("br",null,null,null,3,null),l("span",null,null,s,1,null)],1,"Fm_0"),s==null&&l("div",null,null,[l("b",null,null,n,1,null),l("br",null,null,null,3,null),l("span",null,null,s,1,null)],1,"Fm_1")],1,h)),1,null),Symbol.iterator in Object(i)&&l("div",null,{class:["inventory-history-button"],onClick$:v(()=>y(()=>Promise.resolve().then(()=>P),void 0),"s_moRrYj307PE",[a])},[l("i",null,{class:"fa fa-history"},l("span",null,null,"История",3,null),3,null),a.value&&l("div",null,{class:"inventory-history-content"},[...i].reverse().slice(0,10).map((n,s)=>l("div",null,{class:["inventory-history-row"]},[l("div",null,null,p(n,"info"),1,null),l("em",null,null,new Date(n.date).toLocaleString("ru",{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"}),1,null)],1,s)),1,"Fm_2")],1,"Fm_3")]},1,"Fm_4")},1,"Fm_5")},L=t=>{const[o]=b(),e=t.target;e.classList.contains("show")?(e.classList.remove("show"),o.value=!1):(e.classList.add("show"),o.value=!0)},P=Object.freeze(Object.defineProperty({__proto__:null,s_VL125P0fG5E:E,s_moRrYj307PE:L},Symbol.toStringTag,{value:"Module"}));export{E as s_VL125P0fG5E,L as s_moRrYj307PE};
